@{
    ViewBag.Title = "Connection Test";
}

<h1 id="qunit-header">Connection test</h1>  
<h2 id="qunit-banner"></h2>  
<div id="qunit-testrunner-toolbar"></div>  
<h2 id="qunit-userAgent"></h2>  
<ol id="qunit-tests"></ol>  

<script src="@Url.Content("~/Scripts/jquery-1.9.min.js")" type="text/javascript" ></script>
<script src="@Url.Content("~/Scripts/Tests/qunit-1.11.0.js")" type="text/javascript" ></script>
<script src="@Url.Content("~/Scripts/three.js")" type="text/javascript"></script> 
<script src="@Url.Content("~/Scripts/init3d.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/knockout-2.1.0.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/toastr.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/userlogin.js")" type="text/javascript"></script>   
<script src="@Url.Content("~/Scripts/storage.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/startup.js")" type="text/javascript"></script>

<script type="text/javascript" >

    $(document).ready(function () {


        test("Indexed DB support test", function () {
            ok(window.indexedFiles.db !== undefined, "Indexed DB define and supported");
        });
     


        asyncTest("Get sample model test", function () {
            
            
            expect(1);
            var complete = function (val) {
                equal(val, true, "Sample Model loaded");
                start();

                asyncTest("Open indexed DB test ", function () {

                    expect(1);
                    var completedb = function () {
                        equal(true,true, "Indexed DB created");
                        start();
                    };


                    /*var deletecomplete = function () {
                    ok(true, "Indexed DB delete complete");
                    start();
                    };*/

                    window.indexedFiles.openbase(completedb);

                    // window.indexedFiles.deletebase(deletecomplete);
                });
            };
            startup.loadSampleModelPreview(complete);
        });




    });
</script>
