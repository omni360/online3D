
ï»¿var gdrive=(new function(){"use strict";var _this=this;var selected,downloaded;function createPicker(){var view=new google.picker.View(google.picker.ViewId.DOCS);var picker=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.NAV_HIDDEN).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setAppId('938624936690.apps.googleusercontent.com').addView(view).addView(new google.picker.DocsUploadView()).setCallback(pickerCallback).build();picker.setVisible(true);}
function pickerCallback(data){if(data.action==google.picker.Action.PICKED){getFilesFromServer(data.docs);}}
function downloadFile(file,callback){if(file.url){$.ajax({type:'GET',url:file.url,crossDomain:true,success:function(responseData,textStatus,jqXHR){var value=responseData.someKey;},error:function(responseData,textStatus,errorThrown){alert('POST failed.');}});}
function getFilesFromServer(files){for(var i=0;i<files.length;i++){var f=files[i];downloadFile(f);}}
_this.showUI=function(selectCallback,fileLoadedCallback){google.load('picker','1',{"callback":createPicker});selected=selectCallback;downloaded=fileLoadedCallback;createPicker();}})