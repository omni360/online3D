
ï»¿var dbdrive=dbdrive||{};(function(){var appKey={key:'254hrzt7wfhcmxv',secret:'i9f2dtdx5y67wui',sandbox:true};var client=new Dropbox.Client(appKey);dbdrive.chooseFiles=function(){var options={linkType:"direct",success:function(files){if(!client.isAuthenticated())
authenticateClient();else{console.log(files);}},cancel:function(){console.log("File choose canceled");}}
Dropbox.choose(options);}
var downloadFiles=function(files){for(var i=0;i<files.length;i++){var file=files[i];client.readFile(file.link,function(error,data){if(error){return console.log(error);}
alert(data);});}}
var authenticateClient=function(){var redirectOption={rememberUser:true};client.authDriver(new Dropbox.Drivers.Redirect(redirectOption));client.authenticate(function(error,client){if(error){console.log(error);}
else{downloadFiles(files);}});};})();